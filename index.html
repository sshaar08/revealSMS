<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <title>reveal.js</title>

        <link rel="stylesheet" href="css/reveal.css">
        <link rel="stylesheet" href="css/theme/black.css">

        <!-- Theme used for syntax highlighting of code -->
        <link rel="stylesheet" href="lib/css/zenburn.css">
        <style>
            #left {
              width: 40%;
              display: inline-block;
              float: left;
            }
            #right {
              width: 60%;
              display: inline-block;
              float: left;
              font-size: 25px
              /* Change this to whatever the width of your left column is*/
            }
            .clear {
              clear: both;
            }
        </style>
        <!-- Printing and PDF exports -->
        <script>
            var link = document.createElement( 'link' );
            link.rel = 'stylesheet';
            link.type = 'text/css';
            link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
            document.getElementsByTagName( 'head' )[0].appendChild( link );
        </script>
    </head>
    <body>
        <div class="reveal">
            <!-- Any section element inside of this container is displayed as a slide -->
            <div class="slides">
                <section>
                    <section>
                        <h2>Diving To Selenium</h2>
                        <img src="img/qastamp.jpg" alt="Traditional">
                          <aside class="notes">
                                <ul>
                                    <li></li>
                                    <li></li>
                                </ul>
                            </aside>
                    </section>
                <section>
                        <h2>What we wanted in a tool</h2>
                        <ul>
                            <li>Able to test a websites functionality and interactions</li>
                            <li>CI and manual implementations capable</li>
                            <li>Uses an easy-to-read format for non-programmers</li>
                            <li>Easily supported within current tech stacks</li>
                            <li>Preferably uses open source software (except cloud-based  platforms)</li>
                            <li>Able to run tests on multiple OS/Browser versions and combinations</li>
                        </ul>
                </section>  
            </section>
                <section>
                    <section data-transition="fade-in fade-out">
                        <h2>What can Selenium Do</h2>
                        <p><ul>
                            <li>Verify elements on a page</li>
                            <li>Verify URL and link text</li>
                            <li>Populate form data and submit</li>
                            <li>Validate form errors</li>
                            <li>Validate CSS properties</li>
                            <li>Test web apps on multiple OS/browser combinations</li>
                            <li>Selenium 3.0 supports mobile apps</li>
                            </ul>
                        </p>
                        <aside class="notes">
                            ""
                        </aside>
                    </section>
                    <section data-transition="fade-out">
                        <h2>Selenium & JS to the rescue</h2>
                        <h3>Framework specifics</h3>
                        <ul>
                        <li>Node.js: JavaScript runtime environment</li>
                        <li>Mocha: test runner framework that executes test scripts</li>
                        <li>Should/Expect: assertion library</li>
                        <li>WebdriverIO: browser control bindings (JS programming language bindings - communicates with Selenium)</li>
                        <li>Selenium: browser abstraction and running factory (starts and communicates with browser) Grunt - JavaScript task runner</li>
                        <li>grunt-webdriver: plugin for Grunt with Mocha + WebdriverIO as test runner; includes Browser/Mobile drivers + Browsers (IE, Chrome, Firefox, Safari)</li></ul>
                        <br></br>
                        <a href='http://webdriver.io/api.html'>WebdriverIO (Commands)</a>
                    <aside class='notes'>
                            <ul>
                                <li></li>
                            </ul>
                        </aside>
                    </section>
                    <section> 
                        <div id="container">
                             <div id="left">
                              <img src="img/LocalSeleniumsetup.png" alt="LocalSeleniumsetup">
                            </div>
                            <div id="right">
                                <h2>Local Setup</h2>
                                <ul>
                                <li class="fragment fade-up">Node.js: Runs the Mocha test-framework and test-runner for the scripts.</li>
                                <li class="fragment fade-up">WebdriverIO: Communication gateway for JS and Selenium using the JSON Wire Protocol.</li>
                                <li class="fragment fade-up">Selenium invokes local browser using a driver to test the web application.</li>
                                </ul>
                            </div>
                        </div>
                        <aside class='notes'>
                            <ul>
                                <li></li>
                            </ul>
                        </aside>
                    </section>
                    <section> 
                        <div id="container">
                             <div id="left">
                              <img src="img/gridSetup.png" alt="Grid Setup">
                            </div>
                            <div id="right">
                                <h2>Cloud Setup</h2>
                                <ul>
                                <li>Node.js: Runs the Mocha test-framework and test-runner for the scripts.</li>
                                <li>Should/Expect: Assertion librarys for the scripts.</li>
                                <li>WebdriverIO: Communication gateway for JS and cloud-based testing platform using JSON Wire Protocol. (Sauce Labs, BrowserStack, ...)</li>
                                <li>Cloud-based testing platform will automatically setup the correct OS/Browser combinations to test the web app.</li>
                                </ul>
                            </div>
                        </div>
                        <aside class='notes'>
                            <ul>
                                <li></li>
                            </ul>
                        </aside>
                    </section>
                </section>
                <section>
                    <section>
                        <h2>Selenium Strategy</h2>
                        <img src="" alt="">
                    </section>
                    
                  <section>
                        
                        <div id="left">
                            <img src="img/pageobject.jpg" alt="Grid Setup" height="280" width="380">
                        </div>
                        <div id="right">
                            <h2>Page Objects</h2>
                            <ul>
                                <li>Allows for reuse</li>
                                <li>Minor edits for changes in the DOM</li>
                                <li>Page objects should have a sane number of items</li>
                            </ul>
                            </div>
                        <aside class="notes">
                        <ul>
                        <li>Since well-named methods in classes are easy to read, this works as an elegant way to implement test routines that are both readable and easier to maintain or update in the future. 

                        1. Page Objects represent the html source relatively well, however they have their own limitations on representing the page navigation and DOM current state</li>
                        <li>2. With so many java script libraries that implement ajax calls these days, implementing call backs (aka. making our tests synchronous to handle the partial DOM state changes) has different strategies based on the strategy that was followed “by the application using that particular js library“. For example, on this website, we talked about Handling ajax with jQuery, angular,YUI and prototype.Recently I had an opportunity to work with parse api’s with backbone.js framework. Haven’t found a global listener tracker on parse api’s that I can wait before moving further in my tests [same strategy we followed with jQuery, angular etc.]</li>
                        <li>3. The issues are generally around flaky tests and getting “Stale Element Exceptions“. One best practice to fix this is to model our page-objects very closely to align with the behavior and state transitions of the DOM and that is only as good until new js scripts get introduced into the web application js resource stack.</li>
                        </ul>
                        </aside>
                    </section>
                    <section>
                        <h2>XQuery & RegEx is your friend</h2>
                        <br></br>
                        <ul>
                            <li>XQuery is an XML query language that makes use of XPath to query XML structures. This is less flaky than full xpaths.</li>
                            <ul class="fragment highlight-red" ><li>//div[@class='content_body']/ul[2]</li></ul>
                            <br></br>
                            <li>CSS values can be used, but if they are non-unique, there will be issues.</li>
                            <ul class="fragment highlight-red"><li>#aba-member-benefits__title</li></ul>
                            <br></br>
                        </ul>
                    </section>
                     <section>
                        <h2>Common Pitfalls</h2>
                        <ul>
                            <li class="fragment highlight-current-blue">Slow to run</li>
                            <li class="fragment highlight-current-blue">#Automate_Everything</li>
                            <li class="fragment highlight-current-blue">Hard to maintain</li>
                            <li class="fragment highlight-current-blue">Not reliable</li>
                        </ul>
                        <aside class="notes">
                        <ul>
                        <li>1. It’s slow to run
                        It’s much faster than manual tester.
                        manual tester must check the system through the UI it is very reasonable to replace the manual tests with automated.</li>
                        
                        <li>2. Hard to maintain
                        “Test code is code”
                        If one says “UI tests are Hard to maintain” that means he doesn’t do it well, Please read about PageObjects</li>
                        
                        
                        <li>3. And hard to make reliable.
                        It’s true that Selenium throws exceptions
                        but if you learn about those exceptions – you can avoid them all
                        for example:
                        “NoSuchElementException” can be solved by ImplicitlyWait
                        “StaleElementReferenceException”,
                        “ElementNotVisible\ClickbleException”, etc
                        those exception can be solved by retrying to perform the action
                        TryClick()
                        or by explicitly wait</li>
                        
                        <li>In conclusion – if one is experienced with Selenium —
                        his tests will be reliable.</li>
                        </ul>
                        </aside>
                    </section>

                     <section>
                        <h2>Real issues</h2>
                        <ul>
                            <li>IFrames</li>
                            <li>Drag and Drop</li>
                            <li>Menus with nested layers</li>
                            <li>Mid-state animation testing</li>
                        </ul>
                    </section>
                </section>
                <section>
                    <section>
                        <h2>Install and Run</h2>
                        <ul>
                        <li><pre><code data-trim contenteditable>
                        mkdir webdriverio-test && cd webdriverio-test
                        #Download latest selenium and chrome driver
                        curl -O http://selenium-release.storage.googleapis.com/3.0/selenium-server-standalone-3.0.1.jar
                        curl -O https://chromedriver.storage.googleapis.com/2.27/chromedriver_mac64.zip

                        #start selenium server
                        java -jar selenium-server-standalone-3.0.1.jar
                        
                        #install webdriver.io
                        npm install webdriverio

                        #configuration
                        ./node_modules/.bin/wdio config

                        #run your test alone
                        node test.js

                        #run your test with test runner
                        ./node_modules/.bin/wdio



                        </code><pre></li>
                    
                        </ul>
                    </section>
                    <section>
                        <h2>Selenium with webdriver<h2>
                            <h2>ABA Aem Login</h2>

                            <pre><code data-trim contenteditable>
var expect = require('chai').expect;
var FormPage = require('../pageobjects/form.page');
var page = require('../pageobjects/page')

describe('auth form', function () {
    it('should deny access with wrong creds', function () {
        FormPage.open_login();
        browser.saveScreenshot('./first1.jpg');
        FormPage.username.setValue('foo');
        FormPage.password.setValue('bar');
        FormPage.submit();
        browser.saveScreenshot('./first2.jpg');
        expect(FormPage.flash.getText()).to.contain('User name and password do not match');
    });

    it('should allow access with correct creds', function () {
        FormPage.open_login();
        FormPage.username.setValue('admin');
        FormPage.password.setValue('ABAcm$');
        FormPage.submit();
        page.getbaseurl();
        browser.saveScreenshot('./second.jpg');
        expect(browser.getUrl()).to.contain('/projects.html/content/projects');
    });
});
                            </code></pre>
                            <aside class='notes'>
                                <p>This logs into the AEM backend and checks for an error message for incorrect login _------demo script in chrome</p>
                            </aside>
                        </section>
                    <section>
                        <h2>Selenium with webdriver<h2>
                        
                            <h2>ABA Aem Login</h2>
                            <img src="img/new.gif" alt="LocalSeleniumsetup">
                            <aside class='notes'>
                                <p>This logs into the AEM backend and checks for an error message for incorrect login _------demo script in chrome</p>
                            </aside>
                        </section>
                </section>
                <section>
                    <h2>Questions?</h2>
                    <img src="img/questionswbread.gif" alt="inspector">
                </section>
            </div>

        </div>

        <script src="lib/js/head.min.js"></script>
        <script src="js/reveal.js"></script>

        <script>
            // More info https://github.com/hakimel/reveal.js#configuration
            Reveal.initialize({
                history: true,

                // More info https://github.com/hakimel/reveal.js#dependencies
                dependencies: [
                    { src: 'plugin/markdown/marked.js' },
                    { src: 'plugin/markdown/markdown.js' },
                    { src: 'plugin/notes/notes.js', async: true },
                    { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
                ]
            });
        </script>
    </body>
</html>
